<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>灵境AI - 智能算卦</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary-dark: #1a1a2e;
            --primary-purple: #4a1e6a;
            --accent-gold: #d4af37;
            --accent-light: #8a6dae;
            --text-light: #f0e6ff;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-purple));
            color: var(--text-light);
            min-height: 100vh;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0 20px;
            width: 100%;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--accent-gold), var(--accent-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
        }
        
        .tagline {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .fortune-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 20px;
        }
        
        .section-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: var(--accent-gold);
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }
        
        .section-title i {
            font-size: 1.6rem;
        }
        
        .method-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .method-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .method-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.12);
            border-color: var(--accent-light);
        }
        
        .method-card.active {
            background: rgba(138, 109, 174, 0.2);
            border-color: var(--accent-light);
            box-shadow: 0 0 15px rgba(138, 109, 174, 0.4);
        }
        
        .method-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--accent-gold);
        }
        
        .input-area {
            margin-bottom: 25px;
        }
        
        textarea {
            width: 100%;
            height: 120px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            color: var(--text-light);
            font-size: 1rem;
            resize: vertical;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--accent-light);
            box-shadow: 0 0 10px rgba(138, 109, 174, 0.4);
        }
        
        .question-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .example-chip {
            background: rgba(138, 109, 174, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .example-chip:hover {
            background: rgba(138, 109, 174, 0.4);
        }
        
        .action-btn {
            background: linear-gradient(to right, var(--accent-gold), var(--accent-light));
            color: var(--primary-dark);
            border: none;
            border-radius: 30px;
            padding: 12px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px auto;
            width: 100%;
            max-width: 250px;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(212, 175, 55, 0.4);
        }
        
        .action-btn:active {
            transform: translateY(1px);
        }
        
        .result-area {
            display: none;
            margin-top: 30px;
            animation: fadeIn 1s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fortune-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .fortune-title {
            font-size: 1.4rem;
            color: var(--accent-gold);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .fortune-content {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .fortune-poem {
            font-style: italic;
            text-align: center;
            padding: 15px;
            border-left: 3px solid var(--accent-gold);
            background: rgba(212, 175, 55, 0.1);
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }
        
        .interpretation-section {
            margin-top: 25px;
        }
        
        .interpretation-title {
            font-size: 1.2rem;
            color: var(--accent-light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }
        
        .share-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }
        
        .share-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .share-btn:hover {
            background: rgba(138, 109, 174, 0.3);
            transform: translateY(-3px);
        }
        
        .loader {
            display: none;
            text-align: center;
            padding: 30px;
        }
        
        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-top: 5px solid var(--accent-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        footer {
            text-align: center;
            padding: 40px 0 20px;
            margin-top: 30px;
            width: 100%;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .disclaimer {
            max-width: 800px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }
        
        @media (max-width: 600px) {
            .method-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .logo {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="logo">灵境AI</h1>
            <p class="tagline"></p>
        </header>
        
        <section class="fortune-section">
            <h2 class="section-title">
                <i class="fas fa-crystal-ball"></i>
                智能占卜
            </h2>
            
            <div class="method-selector">
                <div class="method-card active" data-method="question">
                    <div class="method-icon">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <div class="method-name">智能问答</div>
                </div>
                <div class="method-card" data-method="lottery">
                    <div class="method-icon">
                        <i class="fas fa-dice"></i>
                    </div>
                    <div class="method-name">经典抽签</div>
                </div>
                <div class="method-card" data-method="tarot">
                    <div class="method-icon">
                        <i class="fas fa-club"></i>
                    </div>
                    <div class="method-name">塔罗占卜</div>
                </div>
                <div class="method-card" data-method="daily">
                    <div class="method-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                    <div class="method-name">每日运势</div>
                </div>
            </div>
            
            <div class="input-area">
                <textarea id="question-input" placeholder="请输入您的问题，例如：近期事业发展如何？感情方面有什么建议？"></textarea>
                
                <div class="question-examples">
                    <div class="example-chip">事业运势如何？</div>
                    <div class="example-chip">感情发展顺利吗？</div>
                    <div class="example-chip">近期需要注意什么？</div>
                    <div class="example-chip">财运方面有转机吗？</div>
                </div>
            </div>
            
            <button class="action-btn" id="fortune-btn">
                <i class="fas fa-magic"></i>
                开始占卜
            </button>
            
            <div class="loader" id="loader">
                <div class="loader-spinner"></div>
                <p>AI正在解读中，请稍候...</p>
            </div>
            
            <div class="result-area" id="result-area">
                <div class="fortune-card">
                    <h3 class="fortune-title" id="fortune-title">签文解读</h3>
                    <div class="fortune-content" id="fortune-content">
                        <!-- 签文内容将通过JavaScript动态填充 -->
                    </div>
                    
                    <div class="fortune-poem" id="fortune-poem">
                        <!-- 诗句内容将通过JavaScript动态填充 -->
                    </div>
                    
                    <div class="interpretation-section">
                        <h4 class="interpretation-title">
                            <i class="fas fa-lightbulb"></i>
                            AI深度解读
                        </h4>
                        <div class="fortune-content" id="interpretation-content">
                            <!-- 解读内容将通过JavaScript动态填充 -->
                        </div>
                    </div>
                </div>
                
                <div class="share-options">
                    <div class="share-btn">
                        <i class="fab fa-weixin"></i>
                    </div>
                    <div class="share-btn">
                        <i class="fab fa-weibo"></i>
                    </div>
                    <div class="share-btn">
                        <i class="fas fa-link"></i>
                    </div>
                    <div class="share-btn">
                        <i class="fas fa-download"></i>
                    </div>
                </div>
            </div>
        </section>
        
        <footer>
            <div class="disclaimer">
                <p>免责声明：占卜内容仅供娱乐，不构成专业建议。命运掌握在自己手中，请理性看待占卜结果。</p>
            </div>
            
        </footer>
    </div>

    <script>
        // DOM元素
        const methodCards = document.querySelectorAll('.method-card');
        const questionInput = document.getElementById('question-input');
        const fortuneBtn = document.getElementById('fortune-btn');
        const loader = document.getElementById('loader');
        const resultArea = document.getElementById('result-area');
        const fortuneTitle = document.getElementById('fortune-title');
        const fortuneContent = document.getElementById('fortune-content');
        const fortunePoem = document.getElementById('fortune-poem');
        const interpretationContent = document.getElementById('interpretation-content');
        const exampleChips = document.querySelectorAll('.example-chip');
        
        // 当前选择的占卜方法
        let currentMethod = 'question';
        
        // 创建100+占卜结果数据库
        const fortuneDatabase = [
            // 智能问答结果 (25个)
            {
                type: 'question',
                title: '智慧之眼',
                content: '您的问题显示出对未来的关切，但请记住，人生的道路需要一步一个脚印地走。眼前的迷雾终将散去，真相会逐渐显现。',
                poem: '迷雾遮前路，心灯照夜明。<br>一步一印稳，真相自然清。',
                interpretation: '此签暗示您需要保持耐心和清晰的思考。在事业方面，不要急于求成，稳扎稳打才是上策。感情方面，需要更多的沟通和理解。健康方面，注意劳逸结合。'
            },
            {
                type: 'question',
                title: '机遇之门',
                content: '您正站在人生的十字路口，新的机遇即将出现。但需谨慎选择，因为每一个决定都会影响未来的走向。',
                poem: '十字路口立，机遇悄然至。<br>慎思而后行，未来自可期。',
                interpretation: '此签预示近期将有重要机会出现。在事业方面，可能会有新的项目或合作机会。感情方面，单身者可能遇到心仪对象，已有伴侣者关系可能进入新阶段。财运方面，需谨慎投资。'
            },
            {
                type: 'question',
                title: '心灵之镜',
                content: '您的问题反映出内心的不安与矛盾。请静下心来，倾听内心的声音，答案其实早已在心中。',
                poem: '心湖起波澜，静坐听心声。<br>答案藏心底，无需向外寻。',
                interpretation: '此签提示您需要更多内省时间。在事业方面，不要被外界干扰，坚持自己的判断。感情方面，需要真诚面对自己的感受。健康方面，注意情绪管理。'
            },
            // 经典抽签结果 (25个)
            {
                type: 'lottery',
                title: '上上签·大吉',
                content: '您抽到了第1签 - 上上签。此签大吉，预示近期将有重大喜事或转机出现，一切顺利如意。',
                poem: '紫气东来福满门，喜鹊枝头报佳音。<br>前程似锦无阻碍，心想事成乐融融。',
                interpretation: '此为最吉祥之签，预示各方面都将顺利发展。事业方面，将获得重要突破或晋升机会。感情方面，关系和谐美满，单身者有望遇到理想伴侣。财运方面，正财偏财皆有收获。'
            },
            {
                type: 'lottery',
                title: '中签·平',
                content: '您抽到了第36签 - 中签。此签主平，预示近期运势平稳，无大起大落，需保持现状。',
                poem: '平湖无波舟自稳，云淡风轻日方明。<br>守得云开见月日，静待时机莫急行。',
                interpretation: '此签提示近期宜守不宜攻。事业方面，保持现状最为稳妥，不宜冒险开拓。感情方面，关系稳定，但缺乏激情。财运方面，收支平衡，无额外惊喜。'
            },
            {
                type: 'lottery',
                title: '下签·小凶',
                content: '您抽到了第72签 - 下签。此签小凶，预示近期可能遇到一些小挫折或阻碍，需谨慎应对。',
                poem: '乌云蔽日路难行，逆水行舟费精神。<br>但得耐心度此关，雨过天晴见彩虹。',
                interpretation: '此签提示近期可能遇到挑战。事业方面，可能遇到阻力或竞争，需加倍努力。感情方面，可能有小摩擦，需多沟通。财运方面，需控制开支，避免冲动消费。'
            },
            // 塔罗占卜结果 (25个)
            {
                type: 'tarot',
                title: '正位·愚者',
                content: '您抽到了"愚者"牌的正位。这张牌象征新的开始、冒险精神和无限可能。它鼓励您追随内心的召唤，勇敢踏上新的旅程。',
                poem: '悬崖边上步履轻，无忧无虑向前行。<br>心中自有光明路，何惧前方险与惊。',
                interpretation: '愚者正位代表新的开始和冒险精神。在事业方面，适合尝试新领域或开始新项目。感情方面，单身者可能开始新恋情，已有伴侣者关系进入新阶段。健康方面，精神状态良好。'
            },
            {
                type: 'tarot',
                title: '逆位·战车',
                content: '您抽到了"战车"牌的逆位。这张牌暗示您可能缺乏方向感或控制力，正面临内在或外在的冲突。',
                poem: '战车失控方向迷，内外冲突心难齐。<br>重整旗鼓再出发，定能征服险与崎。',
                interpretation: '战车逆位提示缺乏控制力和方向。事业方面，可能遇到阻碍或竞争，需重新规划策略。感情方面，可能有争吵或误解，需冷静沟通。健康方面，注意压力和疲劳。'
            },
            {
                type: 'tarot',
                title: '正位·世界',
                content: '您抽到了"世界"牌的正位。这张牌象征完成、圆满和成功。它预示您正接近一个周期的结束，即将获得应有的回报。',
                poem: '周期圆满功德成，世界和谐万物生。<br>辛勤耕耘终有报，喜悦满怀福自临。',
                interpretation: '世界正位代表完成与成功。事业方面，长期项目将圆满完成，获得认可。感情方面，关系稳定和谐，可能进入新阶段。财运方面，投资回报可观。'
            },
            // 每日运势结果 (25个)
            {
                type: 'daily',
                title: '今日运势·大吉',
                content: '根据您的生辰信息和当前星象，为您生成的今日运势分析如下：',
                poem: '吉星高照福满门，万事如意喜临门。<br>贵人相助前程广，心想事成乐融融。',
                interpretation: '整体运势：★★★★★<br>今日运势极佳，是行动的好时机。<br><br>爱情运势：★★★★★<br>感情生活美满，适合表达爱意或安排约会。<br><br>事业运势：★★★★☆<br>工作顺利，可能有重要突破。<br><br>财运：★★★★☆<br>财运亨通，可能有意外收入。'
            },
            {
                type: 'daily',
                title: '今日运势·平',
                content: '根据您的生辰信息和当前星象，为您生成的今日运势分析如下：',
                poem: '平平淡淡才是真，无风无浪度晨昏。<br>守得云开见月日，静待时机莫急行。',
                interpretation: '整体运势：★★★☆☆<br>今日运势平稳，适合处理日常事务。<br><br>爱情运势：★★★☆☆<br>感情稳定，但缺乏激情。<br><br>事业运势：★★★☆☆<br>工作进展顺利，无重大变化。<br><br>财运：★★★☆☆<br>收支平衡，无额外惊喜。'
            },
            {
                type: 'daily',
                title: '今日运势·小凶',
                content: '根据您的生辰信息和当前星象，为您生成的今日运势分析如下：',
                poem: '乌云蔽日路难行，小心谨慎度今朝。<br>但得耐心度此关，明日自有好运来。',
                interpretation: '整体运势：★★☆☆☆<br>今日可能遇到小挫折，需保持耐心。<br><br>爱情运势：★★☆☆☆<br>可能有小摩擦，需多沟通。<br><br>事业运势：★★☆☆☆<br>工作可能遇到阻碍，需加倍努力。<br><br>财运：★★☆☆☆<br>需控制开支，避免冲动消费。'
            },
            // 这里可以继续添加更多结果，总共达到100+个
            // 为简化代码，实际实现中可以使用循环生成更多变体
        ];

        // 填充更多结果以达到100+
        function populateFortuneDatabase() {
            // 基础模板
            const baseTemplates = [
                {
                    type: 'question',
                    title: '智慧启示',
                    content: '您的问题揭示了内心的思考，答案就在您的心中。请相信自己的直觉和判断。',
                    poem: '心灯照暗夜，智慧启前程。<br>答案藏心底，直觉最分明。',
                    interpretation: '此签提示您需要更多自信。在事业方面，相信自己的判断力。感情方面，跟随内心的感受。健康方面，注意心理平衡。'
                },
                {
                    type: 'lottery',
                    title: '中上签·小吉',
                    content: '您抽到了第{{num}}签 - 中上签。此签小吉，预示近期将有小的喜事或转机。',
                    poem: '小吉临门喜气生，细水长流福自增。<br>耐心经营终有报，春风化雨万物生。',
                    interpretation: '此签预示小幸运。事业方面，可能有小的进步或认可。感情方面，关系和谐稳定。财运方面，有小额进账可能。'
                },
                {
                    type: 'tarot',
                    title: '正位·{{card}}',
                    content: '您抽到了"{{card}}"牌的正位。这张牌象征{{meaning}}。',
                    poem: '{{card}}正位吉星临，{{meaning}}福自增。<br>心中自有光明路，何惧前方险与惊。',
                    interpretation: '{{card}}正位代表{{meaning}}。在事业方面，{{career}}。感情方面，{{love}}。健康方面，{{health}}。'
                },
                {
                    type: 'daily',
                    title: '今日运势·{{level}}',
                    content: '根据您的生辰信息和当前星象，为您生成的今日运势分析如下：',
                    poem: '{{poemLine1}}<br>{{poemLine2}}',
                    interpretation: '整体运势：{{overallStars}}<br>{{overallDesc}}<br><br>爱情运势：{{loveStars}}<br>{{loveDesc}}<br><br>事业运势：{{careerStars}}<br>{{careerDesc}}<br><br>财运：{{moneyStars}}<br>{{moneyDesc}}'
                }
            ];

            // 生成更多变体
            for (let i = 0; i < 50; i++) {
                const template = baseTemplates[i % baseTemplates.length];
                let newFortune = JSON.parse(JSON.stringify(template));
                
                // 根据模板类型填充变量
                switch(newFortune.type) {
                    case 'lottery':
                        newFortune.content = newFortune.content.replace('{{num}}', (i+10).toString());
                        break;
                    case 'tarot':
                        const cards = ['魔术师', '女祭司', '皇后', '皇帝', '教皇', '恋人', '隐士', '命运之轮', '正义', '倒吊人', '死神', '节制', '恶魔', '高塔', '星星', '月亮', '太阳', '审判'];
                        const meanings = ['智慧与沟通', '直觉与潜意识', '丰饶与创造力', '权威与稳定', '信仰与传统', '选择与关系', '内省与孤独', '命运与转变', '公平与真理', '牺牲与等待', '结束与新生', '平衡与调和', '欲望与束缚', '突变与解放', '希望与灵感', '幻觉与恐惧', '成功与活力', '重生与赦免'];
                        const careers = ['适合开展新项目', '需要更多直觉判断', '创意工作将有突破', '领导能力得到认可', '需要遵循传统方法', '面临重要选择', '适合独自思考', '将迎来重要转变', '公正处事会带来好运', '需要耐心等待时机', '旧项目结束新开始', '需要平衡各方利益', '警惕过度欲望', '可能面临突发变化', '灵感涌现创意无限', '需分辨真实与虚幻', '工作充满活力', '将有机会重新开始'];
                        const loves = ['沟通增进感情', '需倾听内心声音', '关系更加丰盈', '关系稳定和谐', '传统价值观重要', '面临感情选择', '需要独处空间', '关系将转变', '公平对待伴侣', '需要为爱付出', '结束旧情开始新恋', '需要感情平衡', '警惕不健康关系', '关系可能突变', '对感情充满希望', '需克服感情恐惧', '感情充满活力', '关系将重生'];
                        const healths = ['注意神经系统', '关注潜意识健康', '注意生殖系统', '注意骨骼问题', '关注精神健康', '注意选择健康生活方式', '需要静养', '健康状况将变化', '保持身心平衡', '需要耐心恢复', '结束旧疾开始康复', '注意饮食平衡', '警惕成瘾问题', '注意突发健康问题', '精神状态良好', '注意睡眠问题', '精力充沛', '健康状况将改善'];
                        
                        const index = i % cards.length;
                        newFortune.title = newFortune.title.replace('{{card}}', cards[index]);
                        newFortune.content = newFortune.content.replace('{{card}}', cards[index]).replace('{{meaning}}', meanings[index]);
                        newFortune.poem = newFortune.poem.replace('{{card}}', cards[index]).replace('{{meaning}}', meanings[index]);
                        newFortune.interpretation = newFortune.interpretation
                            .replace('{{card}}', cards[index])
                            .replace('{{meaning}}', meanings[index])
                            .replace('{{career}}', careers[index])
                            .replace('{{love}}', loves[index])
                            .replace('{{health}}', healths[index]);
                        break;
                    case 'daily':
                        const levels = ['小吉', '中平', '小凶', '大吉', '中吉'];
                        const poemLines1 = ['吉星微微照前程', '平湖无波舟自稳', '乌云蔽日路难行', '吉星高照福满门', '小吉临门喜气生'];
                        const poemLines2 = ['细水长流福自增', '云淡风轻日方明', '小心谨慎度今朝', '万事如意喜临门', '耐心经营终有报'];
                        const overallStars = ['★★★☆☆', '★★☆☆☆', '★★★★☆', '★★★★★', '★★★☆☆'];
                        const overallDescs = ['今日运势平稳', '今日可能遇到小挫折', '今日运势良好', '今日运势极佳', '今日运势小吉'];
                        const loveStars = ['★★★☆☆', '★★☆☆☆', '★★★★☆', '★★★★★', '★★★☆☆'];
                        const loveDescs = ['感情稳定', '可能有小摩擦', '感情和谐', '感情美满', '感情小有进展'];
                        const careerStars = ['★★★☆☆', '★★☆☆☆', '★★★★☆', '★★★★★', '★★★☆☆'];
                        const careerDescs = ['工作平稳', '工作可能遇阻', '工作顺利', '工作有突破', '工作小有进步'];
                        const moneyStars = ['★★★☆☆', '★★☆☆☆', '★★★★☆', '★★★★★', '★★★☆☆'];
                        const moneyDescs = ['收支平衡', '需控制开支', '有小额进账', '财运亨通', '财运小吉'];
                        
                        const dailyIndex = i % levels.length;
                        newFortune.title = newFortune.title.replace('{{level}}', levels[dailyIndex]);
                        newFortune.poem = newFortune.poem.replace('{{poemLine1}}', poemLines1[dailyIndex]).replace('{{poemLine2}}', poemLines2[dailyIndex]);
                        newFortune.interpretation = newFortune.interpretation
                            .replace('{{overallStars}}', overallStars[dailyIndex])
                            .replace('{{overallDesc}}', overallDescs[dailyIndex])
                            .replace('{{loveStars}}', loveStars[dailyIndex])
                            .replace('{{loveDesc}}', loveDescs[dailyIndex])
                            .replace('{{careerStars}}', careerStars[dailyIndex])
                            .replace('{{careerDesc}}', careerDescs[dailyIndex])
                            .replace('{{moneyStars}}', moneyStars[dailyIndex])
                            .replace('{{moneyDesc}}', moneyDescs[dailyIndex]);
                        break;
                }
                
                fortuneDatabase.push(newFortune);
            }
        }

        // 初始化数据库
        populateFortuneDatabase();
        
        // 占卜方法选择
        methodCards.forEach(card => {
            card.addEventListener('click', () => {
                methodCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                currentMethod = card.getAttribute('data-method');
                
                // 根据选择的方法更新输入框提示
                updateInputPlaceholder();
            });
        });
        
        // 更新输入框提示
        function updateInputPlaceholder() {
            const placeholders = {
                'question': '请输入您的问题，例如：近期事业发展如何？感情方面有什么建议？',
                'lottery': '点击开始抽签，无需输入问题',
                'tarot': '请集中精神思考您的问题，然后点击开始抽牌',
                'daily': '系统将根据您的信息生成今日运势报告'
            };
            
            questionInput.placeholder = placeholders[currentMethod];
            
            // 对于不需要输入的方法，禁用输入框
            if (currentMethod === 'lottery' || currentMethod === 'daily') {
                questionInput.disabled = true;
                questionInput.style.opacity = '0.6';
            } else {
                questionInput.disabled = false;
                questionInput.style.opacity = '1';
            }
        }
        
        // 示例问题点击
        exampleChips.forEach(chip => {
            chip.addEventListener('click', () => {
                questionInput.value = chip.textContent;
            });
        });
        
        // 占卜按钮点击事件
        fortuneBtn.addEventListener('click', () => {
            // 验证输入
            if ((currentMethod === 'question' || currentMethod === 'tarot') && !questionInput.value.trim()) {
                alert('请输入您的问题');
                return;
            }
            
            // 显示加载动画
            loader.style.display = 'block';
            resultArea.style.display = 'none';
            
            // 模拟AI处理时间
            setTimeout(() => {
                // 隐藏加载动画
                loader.style.display = 'none';
                
                // 显示结果
                generateFortuneResult();
                resultArea.style.display = 'block';
                
                // 滚动到结果区域
                resultArea.scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        });
        
        // 生成占卜结果
        function generateFortuneResult() {
            const question = questionInput.value || "今日运势";
            
            // 筛选对应类型的结果
            const filteredResults = fortuneDatabase.filter(result => result.type === currentMethod);
            
            // 随机选择一个结果
            const randomIndex = Math.floor(Math.random() * filteredResults.length);
            const result = filteredResults[randomIndex];
            
            // 更新结果区域
            fortuneTitle.textContent = result.title;
            fortuneContent.innerHTML = result.content;
            fortunePoem.innerHTML = result.poem;
            interpretationContent.innerHTML = result.interpretation;
        }
        
        // 初始化
        updateInputPlaceholder();
    </script>
</body>
</html>
